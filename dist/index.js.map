{"version":3,"file":"index.js","sources":["../src/utils/basicChartStyle.js","../src/utils/transformConfig.js","../src/utils/normalizeData.js","../src/hooks/useECharts.js","../src/components/Bar.js","../src/components/Line.js","../src/components/Pie.js","../src/components/Doughnut.js","../src/components/ScatterPlot.js","../src/components/StackBar.js","../src/components/StackClusterColumn.js","../src/components/StackLine.js","../node_modules/babel-plugin-transform-async-to-promises/helpers.mjs","../src/context/LeafletProvider.js","../src/components/Map/Marker.js","../src/components/Map/TileLayer.js","../src/components/Map/GeoJson.js","../src/utils/mapHelper.js","../src/components/Map/LegendControl.js","../src/utils/string.js","../src/components/MapView.js"],"sourcesContent":["export const backgroundColor = {\n  backgroundColor: 'transparent'\n};\n\nexport const Animation = {\n  animation: true,\n  animationThreshold: 2000,\n  animationDuration: 1000,\n  animationEasing: 'cubicOut',\n  animationDelay: 0,\n  animationDurationUpdate: 300,\n  animationEasingUpdate: 'cubicOut',\n  animationDelayUpdate: 0\n};\n\nexport const TextStyle = {\n  color: '#000',\n  fontSize: 12,\n  fontWeight: 'bold'\n};\n\nexport const Colors = {\n  color: [\n    '#4475B4',\n    '#73ADD1',\n    '#AAD9E8',\n    '#FEE08F',\n    '#FDAE60',\n    '#F36C42',\n    '#D73027'\n  ]\n};\n\nexport const Legend = {\n  show: true,\n  icon: 'circle',\n  top: 35,\n  left: 'center',\n  align: 'left',\n  orient: 'horizontal',\n  itemGap: 10,\n  textStyle: {\n    fontWeight: 'normal',\n    fontSize: 12\n  }\n};\n\nexport const Title = {\n  show: true,\n  textAlign: 'center',\n  left: '50%',\n  textStyle: {\n    color: '#000',\n    fontSize: 14,\n    fontWeight: 'bold'\n  }\n};\n\nexport const Grid = {\n  containLabel: true,\n  left: '4%',\n  right: '4%',\n  bottom: '10%',\n  top: '25%'\n};\n\nexport const Tooltip = {\n  trigger: 'item',\n  axisPointer: {\n    type: 'shadow'\n  },\n  textStyle: {\n    color: '#000',\n    fontSize: 12,\n    fontWeight: 'bold'\n  }\n};\n\nexport const Axis = {\n  axisLabel: {\n    color: '#000',\n    fontSize: 12,\n    fontWeight: 'normal'\n  },\n  axisLine: {\n    lineStyle: {\n      color: '#000'\n    }\n  },\n  axisTick: {\n    lineStyle: {\n      color: '#000'\n    }\n  }\n};\n","import {\n  Animation,\n  Colors,\n  TextStyle,\n  backgroundColor,\n  Title,\n  Grid,\n  Tooltip,\n  Axis,\n  Legend\n} from './basicChartStyle';\n\nexport const filterObjNullValue = (obj) =>\n  Object.entries(obj).reduce((acc, [key, value]) => {\n    if (value !== null) {\n      acc[key] = value;\n    }\n    return acc;\n  }, {});\n\nconst transformConfig = ({\n  title,\n  subtitle = null,\n  xAxisLabel = null,\n  yAxisLabel = null,\n  horizontal = false,\n  textStyle = {\n    color: null,\n    fontStyle: null,\n    fontWeight: null,\n    fontFamily: null,\n    fontSize: null\n  },\n  legend = {\n    show: true,\n    icon: null,\n    top: null,\n    left: null,\n    align: null,\n    orient: null,\n    itemGap: null\n  },\n  color = [],\n  // this is only for inside akvo charts purpose\n  dimensions = [],\n  showAxis = true\n  // eol\n}) => {\n  const defaultLegend = showAxis\n    ? {\n        ...Legend,\n        data: dimensions.slice(1)\n      }\n    : { ...Legend };\n\n  const overrideTextStyle = Object.keys(filterObjNullValue(textStyle)).length\n    ? filterObjNullValue(textStyle)\n    : {};\n\n  const overrideColor = color.length ? { color } : { ...Colors };\n\n  const overrideLegend = Object.keys(filterObjNullValue(legend)).length\n    ? {\n        ...defaultLegend,\n        top: subtitle ? 50 : defaultLegend.top,\n        ...filterObjNullValue(legend)\n      }\n    : { ...defaultLegend, top: subtitle ? 50 : defaultLegend.top };\n\n  const axis = showAxis\n    ? {\n        xAxis: {\n          type: horizontal ? 'value' : 'category',\n          name: xAxisLabel,\n          nameTextStyle: { ...TextStyle, ...overrideTextStyle },\n          nameLocation: 'center',\n          nameGap: 45,\n          ...Axis,\n          axisLabel: {\n            ...Axis.axisLabel,\n            ...overrideTextStyle\n          }\n        },\n        yAxis: {\n          type: horizontal ? 'category' : 'value',\n          name: yAxisLabel,\n          nameTextStyle: { ...TextStyle, ...overrideTextStyle },\n          nameLocation: 'end',\n          nameGap: 20,\n          ...Axis,\n          axisLabel: {\n            ...Axis.axisLabel,\n            ...overrideTextStyle\n          }\n        }\n      }\n    : {};\n\n  return {\n    title: {\n      ...Title,\n      text: title,\n      subtext: subtitle ? subtitle : '',\n      textStyle: {\n        ...Title.textStyle,\n        ...overrideTextStyle\n      }\n    },\n    grid: {\n      ...Grid\n    },\n    legend: {\n      ...overrideLegend,\n      textStyle: {\n        ...overrideLegend.textStyle,\n        ...overrideTextStyle\n      }\n    },\n    tooltip: {\n      ...Tooltip,\n      textStyle: {\n        ...Tooltip.textStyle,\n        ...overrideTextStyle\n      }\n    },\n    ...axis,\n    series: [],\n    ...overrideColor,\n    ...backgroundColor,\n    ...Animation\n  };\n};\n\nexport default transformConfig;\n","const sortKeys = (keys = []) => {\n  // Identify the key to be placed first based on criteria\n  const dynamicKey = keys.find((key) => isNaN(key));\n  const otherKeys = keys.filter((key) => key !== dynamicKey);\n  // Combine the dynamic key with the other keys\n  return [dynamicKey, ...otherKeys];\n};\n\nconst normalizeData = (data) => {\n  if (data?.length === 0) {\n    return {\n      dimensions: [],\n      source: []\n    };\n  }\n  if (Array.isArray(data)) {\n    if (data.length > 0 && Array.isArray(data[0])) {\n      // Handle tabular format (2d array)\n      const [categories, ...rows] = data;\n\n      const dimensions = categories.map((item) => item.toLowerCase());\n      const source = rows.map((row) => {\n        const obj = {};\n        categories.forEach((cat, index) => {\n          obj[cat.toLowerCase()] = row[index] !== undefined ? row[index] : 0;\n        });\n        return obj;\n      });\n\n      return {\n        dimensions,\n        source\n      };\n    } else if (data.length > 0 && typeof data[0] === 'object') {\n      // Handle key-value format (Row based key-value format (object array))\n      const keys = Array.from(\n        new Set(data.flatMap((d) => (d ? Object.keys(d) : [])))\n      );\n      const sortedKeys = sortKeys(keys);\n\n      const dimensions = sortedKeys;\n      const source = data\n        .filter((i) => i)\n        .map((item) => {\n          const obj = {};\n          sortedKeys.forEach((key) => {\n            obj[key] = item[key] !== undefined ? item[key] : 0;\n          });\n          return obj;\n        });\n\n      return {\n        dimensions,\n        source\n      };\n    }\n  } else if (typeof data === 'object') {\n    // Handle object-based format (Column based key-value format)\n    const keys = Object.keys(data);\n    const maxLength = Math.max(...keys.map((key) => data[key].length));\n    const sortedKeys = sortKeys(keys);\n\n    const source = Array.from({ length: maxLength }, (_, i) => {\n      return sortedKeys.reduce((acc, key) => {\n        acc[key] = data[key][i] !== undefined ? data[key][i] : 0;\n        return acc;\n      }, {});\n    });\n\n    return {\n      dimensions: sortedKeys,\n      source\n    };\n  }\n\n  throw new Error('Unsupported data format');\n};\n\nexport default normalizeData;\n","import { useEffect, useRef, useState } from 'react';\nimport * as echarts from 'echarts';\nimport transformConfig, { filterObjNullValue } from '../utils/transformConfig';\nimport normalizeData from '../utils/normalizeData';\n\nconst useECharts = ({\n  config = {},\n  data = [],\n  getOptions = () => {},\n  rawConfig = {},\n  rawOverrides = {}\n}) => {\n  const chartRef = useRef(null);\n  const [chartInstance, setChartInstance] = useState(null); // State to store the ECharts instance\n\n  useEffect(() => {\n    if (!chartInstance && chartRef.current) {\n      const initProps =\n        config?.width && config?.height\n          ? { width: config.width, height: config.height }\n          : {};\n      const chart = echarts.init(chartRef.current, config?.theme || null, {\n        renderer: config?.renderer || 'canvas',\n        ...initProps\n      });\n      setChartInstance(chart);\n    }\n\n    let options = {};\n\n    if (!Object.keys(rawConfig).length) {\n      // handle horizontal\n      let horizontal = false;\n      if (config?.horizontal) {\n        horizontal = config.horizontal;\n      }\n      // eol handle horizontal\n\n      // handle itemStyle\n      let itemStyle = {\n        color: null,\n        borderColor: null,\n        borderWidth: null,\n        borderType: null,\n        opacity: null\n      };\n      if (config?.itemStyle) {\n        itemStyle = { ...config.itemStyle };\n      }\n      const overrideItemStyle = Object.keys(filterObjNullValue(itemStyle))\n        .length\n        ? { itemStyle: filterObjNullValue(itemStyle) }\n        : {};\n      // eol handle item style\n\n      const { dimensions, source } = normalizeData(data);\n      const transformedConfig = transformConfig({\n        ...config,\n        dimensions\n      });\n      options = {\n        ...transformedConfig,\n        dataset: {\n          dimensions,\n          source\n        },\n        ...getOptions({\n          dimensions,\n          transformedConfig,\n          overrideItemStyle,\n          horizontal\n        })\n      };\n    } else {\n      // Handle raw config\n      options = rawConfig?.series\n        ? {\n            ...rawConfig,\n            series: rawConfig.series.map((s) => ({\n              ...rawOverrides,\n              ...s,\n              type: rawOverrides?.type || s?.type\n            }))\n          }\n        : rawConfig;\n    }\n\n    if (chartInstance) {\n      try {\n        chartInstance.clear();\n        chartInstance.setOption(options);\n      } catch (err) {\n        console.error('useECharts', err);\n      }\n    }\n  }, [\n    chartInstance,\n    chartRef,\n    config,\n    rawConfig,\n    data,\n    rawOverrides,\n    getOptions\n  ]);\n\n  return [chartRef, chartInstance];\n};\n\nexport default useECharts;\n","import React, { forwardRef, useImperativeHandle } from 'react';\nimport { useECharts } from '../hooks';\nimport styles from '../styles.module.css';\n\nconst getOptions = ({\n  horizontal = false,\n  dimensions = [],\n  overrideItemStyle\n}) => {\n  const series = dimensions.slice(1).map((dim) => ({\n    name: dim,\n    type: 'bar',\n    encode: {\n      x: horizontal ? dim : 'category',\n      y: horizontal ? 'category' : dim\n    },\n    ...overrideItemStyle\n  }));\n\n  return {\n    series\n  };\n};\n\nconst Bar = ({ config, data, rawConfig }, ref) => {\n  const [chartRef, chartInstance] = useECharts({\n    rawOverrides: {\n      type: 'bar'\n    },\n    rawConfig,\n    config,\n    data,\n    getOptions: ({ dimensions, overrideItemStyle, horizontal }) =>\n      getOptions({ horizontal, dimensions, overrideItemStyle })\n  });\n\n  useImperativeHandle(ref, () => chartInstance);\n\n  return (\n    <div\n      ref={chartRef}\n      role=\"figure\"\n      className={styles.container}\n    />\n  );\n};\n\nexport default forwardRef(Bar);\n","import React, { forwardRef, useImperativeHandle } from 'react';\nimport { useECharts } from '../hooks';\nimport styles from '../styles.module.css';\n\nconst getOptions = ({\n  horizontal = false,\n  dimensions = [],\n  overrideItemStyle\n}) => {\n  const series = dimensions.slice(1).map((dim) => ({\n    name: dim,\n    type: 'line',\n    encode: {\n      x: horizontal ? dim : 'category',\n      y: horizontal ? 'category' : dim\n    },\n    ...overrideItemStyle\n  }));\n\n  return {\n    series\n  };\n};\n\nconst Line = ({ config, data, rawConfig }, ref) => {\n  const [chartRef, chartInstance] = useECharts({\n    rawOverrides: {\n      type: 'line'\n    },\n    rawConfig,\n    config,\n    data,\n    getOptions: ({ dimensions, overrideItemStyle, horizontal }) =>\n      getOptions({ horizontal, dimensions, overrideItemStyle })\n  });\n\n  useImperativeHandle(ref, () => chartInstance);\n\n  return (\n    <div\n      ref={chartRef}\n      role=\"figure\"\n      className={styles.container}\n    />\n  );\n};\n\nexport default forwardRef(Line);\n","import React, { forwardRef, useImperativeHandle } from 'react';\nimport { useECharts } from '../hooks';\nimport styles from '../styles.module.css';\n\nconst getOptions = ({ dimensions = [], overrideItemStyle }) => {\n  const itemName = dimensions[0];\n  const value = dimensions.slice(1);\n  return {\n    series: [\n      {\n        type: 'pie',\n        radius: '60%',\n        encode: {\n          itemName,\n          value\n        },\n        ...overrideItemStyle\n      }\n    ]\n  };\n};\n\nconst Pie = ({ config, data, rawConfig }, ref) => {\n  const [chartRef, chartInstance] = useECharts({\n    rawOverrides: {\n      type: 'pie'\n    },\n    rawConfig,\n    config: { ...config, showAxis: false },\n    data,\n    getOptions: ({ dimensions, overrideItemStyle }) =>\n      getOptions({ dimensions, overrideItemStyle })\n  });\n\n  useImperativeHandle(ref, () => chartInstance);\n\n  return (\n    <div\n      ref={chartRef}\n      role=\"figure\"\n      className={styles.container}\n    />\n  );\n};\n\nexport default forwardRef(Pie);\n","import React, { forwardRef, useImperativeHandle, useMemo } from 'react';\nimport { useECharts } from '../hooks';\nimport styles from '../styles.module.css';\n\nconst MAX = 60;\n\nconst getOptions = ({ dimensions = [], radius, overrideItemStyle }) => {\n  const itemName = dimensions[0];\n  const value = dimensions.slice(1);\n  return {\n    series: [\n      {\n        type: 'pie',\n        radius,\n        encode: {\n          itemName,\n          value\n        },\n        ...overrideItemStyle\n      }\n    ]\n  };\n};\n\nconst Doughnut = ({ config, data, size = 40, rawConfig }, ref) => {\n  const torus = useMemo(() => {\n    if (size >= MAX) {\n      return 0;\n    }\n    return MAX - size;\n  }, [size]);\n\n  const [chartRef, chartInstance] = useECharts({\n    rawOverrides: {\n      type: 'pie',\n      radius: [`${torus}%`, `${MAX}%`]\n    },\n    rawConfig,\n    config: { ...config, showAxis: false },\n    data,\n    getOptions: ({ dimensions, overrideItemStyle }) =>\n      getOptions({\n        dimensions,\n        radius: [`${torus}%`, `${MAX}%`],\n        overrideItemStyle\n      })\n  });\n\n  useImperativeHandle(ref, () => chartInstance);\n\n  return (\n    <div\n      ref={chartRef}\n      role=\"figure\"\n      className={styles.container}\n    />\n  );\n};\n\nexport default forwardRef(Doughnut);\n","import React, { forwardRef, useImperativeHandle } from 'react';\nimport { useECharts } from '../hooks';\nimport styles from '../styles.module.css';\n\nconst scatterTransform = (input) => {\n  if (Array.isArray(input)) {\n    // Check if it's a 2D array\n    if (Array.isArray(input[0])) {\n      return input.map(([label, x, y]) => [x, y, label]);\n    }\n\n    // Check if it's an array of key-value objects\n    if (typeof input[0] === 'object' && !Array.isArray(input[0])) {\n      return input.map(({ label, x, y }) => [x, y, label]);\n    }\n  }\n\n  // Check if it's an array containing an object\n  if (typeof input === 'object') {\n    return Object.keys(input).map((key) => [...input[key], key]);\n  }\n\n  throw new Error('Invalid input format');\n};\n\nconst getOptions = ({\n  data,\n  symbolSize,\n  showLabel,\n  transformedConfig,\n  overrideItemStyle\n}) => {\n  return {\n    series: [\n      {\n        type: 'scatter',\n        symbolSize,\n        emphasis: {\n          focus: 'self'\n        },\n        label: {\n          show: showLabel,\n          formatter: (p) => p.data[2],\n          minMargin: 10,\n          position: 'top'\n        },\n        ...overrideItemStyle\n      }\n    ],\n    xAxis: {\n      ...transformedConfig.xAxis,\n      splitLine: {\n        show: true\n      }\n    },\n    dataset: {\n      source: data ? scatterTransform(data) : []\n    }\n  };\n};\n\nconst ScatterPlot = (\n  { config, data, symbolSize = 10, showLabel = true, rawConfig },\n  ref\n) => {\n  const [chartRef, chartInstance] = useECharts({\n    rawOverrides: {\n      type: 'scatter'\n    },\n    rawConfig,\n    config,\n    getOptions: ({ transformedConfig, overrideItemStyle }) =>\n      getOptions({\n        data,\n        symbolSize,\n        showLabel,\n        transformedConfig,\n        overrideItemStyle\n      })\n  });\n\n  useImperativeHandle(ref, () => chartInstance);\n\n  return (\n    <div\n      ref={chartRef}\n      role=\"figure\"\n      className={styles.container}\n    />\n  );\n};\n\nexport default forwardRef(ScatterPlot);\n","import React, { forwardRef, useImperativeHandle } from 'react';\nimport { useECharts } from '../hooks';\nimport styles from '../styles.module.css';\n\nconst getOptions = ({\n  dimensions,\n  stackMapping,\n  transformedConfig,\n  horizontal,\n  overrideItemStyle\n}) => {\n  // Reverse the stackMapping to get a dimension to stack group map\n  const dimensionToStackMap = {};\n  Object.keys(stackMapping).forEach((stackGroup) => {\n    stackMapping[stackGroup].forEach((dim) => {\n      dimensionToStackMap[dim] = stackGroup;\n    });\n  });\n\n  // Create series based on the reversed stack mapping\n  const series = dimensions.slice(1).map((dim) => ({\n    name: dim,\n    type: 'bar',\n    stack: dimensionToStackMap[dim] || 'defaultStack',\n    encode: {\n      x: horizontal ? dim : 'category',\n      y: horizontal ? 'category' : dim\n    },\n    ...overrideItemStyle\n  }));\n\n  return {\n    tooltip: {\n      ...transformedConfig.tooltip,\n      trigger: 'axis'\n    },\n    series\n  };\n};\n\nconst StackBar = ({ config, data, stackMapping = {}, rawConfig }, ref) => {\n  const [chartRef, chartInstance] = useECharts({\n    rawOverrides: {\n      type: 'bar',\n      stack: 'defaultStack'\n    },\n    rawConfig,\n    config,\n    data,\n    getOptions: ({\n      dimensions,\n      transformedConfig,\n      overrideItemStyle,\n      horizontal\n    }) =>\n      getOptions({\n        dimensions,\n        stackMapping,\n        horizontal,\n        transformedConfig,\n        overrideItemStyle\n      })\n  });\n\n  useImperativeHandle(ref, () => chartInstance);\n\n  return (\n    <div\n      ref={chartRef}\n      role=\"figure\"\n      className={styles.container}\n    />\n  );\n};\n\nexport default forwardRef(StackBar);\n","import React, { forwardRef, useImperativeHandle } from 'react';\nimport { useECharts } from '../hooks';\nimport styles from '../styles.module.css';\n\nconst getOptions = ({\n  transformedConfig,\n  horizontal = false,\n  dimensions = [],\n  overrideItemStyle\n}) => {\n  const series = dimensions.slice(1).map((dim) => ({\n    name: dim,\n    type: 'bar',\n    barGap: 0,\n    encode: {\n      x: horizontal ? dim : 'category',\n      y: horizontal ? 'category' : dim\n    },\n    ...overrideItemStyle\n  }));\n\n  return {\n    tooltip: {\n      ...transformedConfig.tooltip,\n      trigger: 'axis'\n    },\n    series\n  };\n};\n\nconst StackClusterColumn = ({ config, data, rawConfig }, ref) => {\n  const [chartRef, chartInstance] = useECharts({\n    rawOverrides: {\n      type: 'bar',\n      barGap: 0\n    },\n    rawConfig,\n    config,\n    data,\n    getOptions: ({\n      dimensions,\n      transformedConfig,\n      overrideItemStyle,\n      horizontal\n    }) =>\n      getOptions({\n        horizontal,\n        dimensions,\n        transformedConfig,\n        overrideItemStyle\n      })\n  });\n\n  useImperativeHandle(ref, () => chartInstance);\n\n  return (\n    <div\n      ref={chartRef}\n      role=\"figure\"\n      className={styles.container}\n    />\n  );\n};\n\nexport default forwardRef(StackClusterColumn);\n","import React, { forwardRef, useImperativeHandle } from 'react';\nimport { useECharts } from '../hooks';\nimport styles from '../styles.module.css';\n\nconst getOptions = ({\n  dimensions,\n  transformedConfig,\n  horizontal,\n  overrideItemStyle\n}) => {\n  const axis = horizontal ? 'yAxis' : 'xAxis';\n\n  const series = dimensions.slice(1).map((dim) => ({\n    name: dim,\n    type: 'line',\n    stack: 'defaultStack',\n    areaStyle: {},\n    encode: {\n      x: horizontal ? dim : 'category',\n      y: horizontal ? 'category' : dim\n    },\n    ...overrideItemStyle\n  }));\n\n  return {\n    ...transformedConfig,\n    tooltip: {\n      ...transformedConfig.tooltip,\n      trigger: 'axis',\n      axisPointer: {\n        type: 'cross'\n      }\n    },\n    [axis]: {\n      ...transformedConfig[axis],\n      boundaryGap: false\n    },\n    series\n  };\n};\n\nconst StacLine = ({ config, data, rawConfig }, ref) => {\n  const [chartRef, chartInstance] = useECharts({\n    rawOverrides: {\n      type: 'line',\n      stack: 'defaultStack'\n    },\n    rawConfig,\n    config,\n    data,\n    getOptions: ({\n      dimensions,\n      transformedConfig,\n      overrideItemStyle,\n      horizontal\n    }) =>\n      getOptions({\n        dimensions,\n        horizontal,\n        transformedConfig,\n        overrideItemStyle\n      })\n  });\n\n  useImperativeHandle(ref, () => chartInstance);\n\n  return (\n    <div\n      ref={chartRef}\n      role=\"figure\"\n      className={styles.container}\n    />\n  );\n};\n\nexport default forwardRef(StacLine);\n","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","import React, {\n  createContext,\n  Fragment,\n  useContext,\n  useRef,\n  useEffect,\n  forwardRef,\n  useImperativeHandle\n} from 'react';\nimport L from 'leaflet';\n\nconst LeafletContext = createContext(null);\n\nexport const LeafletProvider = forwardRef(\n  ({ children, width, height }, ref) => {\n    const mapRef = useRef(null);\n    const mapContainer = useRef(null);\n\n    useEffect(() => {\n      if (!mapRef.current) {\n        const map = L.map(mapContainer.current, { center: [0, 0], zoom: 2 });\n        mapRef.current = map;\n      }\n\n      // Cleanup function to remove the map instance\n      return () => {\n        if (mapRef.current) {\n          mapRef.current.remove();\n          mapRef.current = null; // Reset the map ref\n        }\n      };\n    }, []);\n\n    // Expose the Leaflet map instance via ref\n    useImperativeHandle(ref, () => ({\n      getMap: () => mapRef.current\n    }));\n\n    return (\n      <Fragment>\n        <div\n          ref={mapContainer}\n          style={{\n            height: height || '100vh',\n            width: width || '100%'\n          }}\n          data-testid=\"map-view\"\n        />\n        <LeafletContext.Provider value={mapRef}>\n          {children}\n        </LeafletContext.Provider>\n      </Fragment>\n    );\n  }\n);\n\nexport const useLeaflet = () => {\n  return useContext(LeafletContext);\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport L from 'leaflet';\nimport mIcon from 'leaflet/dist/images/marker-icon.png';\nimport mShadow from 'leaflet/dist/images/marker-shadow.png';\n\nimport { useLeaflet } from '../../context/LeafletProvider';\n\nconst Marker = ({\n  latlng = null,\n  label = null,\n  icon = {},\n  markerLayer,\n  ...options\n}) => {\n  const [preload, setPreload] = useState(true);\n  const mapRef = useLeaflet();\n\n  const defaultIcon = typeof mIcon === 'object' ? mIcon?.src : mIcon;\n  const defaultShadow = typeof mShadow === 'object' ? mShadow?.src : mShadow;\n\n  const Icon = L.icon({\n    iconUrl: icon?.url || defaultIcon,\n    shadowUrl: icon?.shadow || defaultShadow,\n    iconSize: [25, 41],\n    iconAnchor: [12, 41],\n    popupAnchor: [1, -34],\n    shadowSize: [41, 41]\n  });\n\n  const setMarker = useCallback(() => {\n    if (mapRef.current && preload) {\n      setPreload(false);\n      const mapLayer = markerLayer || mapRef.current;\n      const marker = L.marker(latlng, { icon: Icon, ...options }).addTo(\n        mapLayer\n      );\n      if (label) {\n        marker.bindPopup(label);\n      }\n    }\n  }, [Icon, mapRef, preload, label, latlng, options, markerLayer]);\n\n  useEffect(() => {\n    setMarker();\n  }, [setMarker]);\n\n  return null;\n};\n\nexport default Marker;\n","import { useEffect } from 'react';\nimport L from 'leaflet';\n\nimport { useLeaflet } from '../../context/LeafletProvider';\n\nconst TileLayer = ({ url, ...props }) => {\n  const mapRef = useLeaflet();\n\n  useEffect(() => {\n    if (mapRef.current) {\n      if (url) {\n        L.tileLayer(url, { ...props }).addTo(mapRef.current);\n      }\n    }\n  }, [mapRef, props, url]);\n\n  return null;\n};\n\nexport default TileLayer;\n","import { useCallback, useEffect, useState } from 'react';\nimport L from 'leaflet';\n\nimport { useLeaflet } from '../../context/LeafletProvider';\n\nconst GeoJson = ({ onClick, onMouseOver, data = {}, style = {} }) => {\n  const [layer, setLayer] = useState(null);\n  const mapRef = useLeaflet();\n\n  const loadGeoJson = useCallback(() => {\n    if (mapRef.current && data?.type && data?.type !== 'Topology' && !layer) {\n      try {\n        const gl = L.geoJSON(data, {\n          onEachFeature: (_, layer) => {\n            if (typeof onClick === 'function') {\n              layer.on({\n                click: (props) => {\n                  onClick(props);\n                }\n              });\n            }\n\n            if (typeof onMouseOver === 'function') {\n              layer.on({\n                mouseover: (props) => {\n                  onMouseOver(props);\n                }\n              });\n            }\n          }\n        });\n        setLayer(gl);\n        gl.addTo(mapRef.current);\n      } catch (err) {\n        console.error('GeoJson', err);\n      }\n    }\n    if (layer) {\n      layer.resetStyle();\n      layer.setStyle((feature) =>\n        typeof style === 'function'\n          ? style(feature)\n          : {\n              ...style,\n              fillOpacity: parseFloat(style?.fillOpacity || 0.2, 10)\n            }\n      );\n    }\n  }, [mapRef, layer, data, style, onClick, onMouseOver]);\n\n  useEffect(() => {\n    loadGeoJson();\n  }, [loadGeoJson]);\n\n  return null;\n};\n\nexport default GeoJson;\n","export const calculateRanges = (data = [], numRanges = 1) => {\n  const sortedData = data.slice().sort((a, b) => a - b);\n  if (sortedData.length === 0) return [];\n\n  // Calculate the minimum and maximum range from the data\n  const minRange = Math.min(...sortedData);\n  const maxRange = Math.max(...sortedData);\n\n  // Calculate logarithmic step size\n  const logMin = Math.log10(minRange);\n  const logMax = Math.log10(maxRange);\n  const logStep = (logMax - logMin) / numRanges;\n\n  const ranges = [];\n\n  for (let i = 0; i < numRanges; i++) {\n    const rangeStart = Math.pow(10, logMin + i * logStep);\n    const rangeEnd =\n      i === numRanges - 1 ? maxRange : Math.pow(10, logMin + (i + 1) * logStep);\n    ranges.push([Math.floor(rangeStart), Math.floor(rangeEnd)]);\n  }\n\n  return ranges;\n};\n\nexport const getColor = (ranges = [], value = 0, colors = []) => {\n  const numColors = colors.length;\n\n  if (numColors === 0) return '#FFFFFF'; // Return a default color if no colors are provided\n  const findIndex = ranges.findIndex((r) => {\n    const [min, max] = r;\n    return value >= min && value <= max;\n  });\n  return colors?.[findIndex] || colors[0];\n};\n\nexport const getGeoJSONProps = (\n  mapInstance,\n  { onClick, onMouseOver, mapKey, choropleth, color, style, ...props },\n  data = []\n) => {\n  let allProps = { ...props, style };\n  if (typeof onClick === 'function') {\n    allProps = {\n      ...allProps,\n      onClick: (props) => {\n        try {\n          onClick(mapInstance.current.getMap(), props);\n        } catch (err) {\n          console.error('GeoJson|onClick', err);\n        }\n      }\n    };\n  }\n  if (typeof onMouseOver === 'function') {\n    allProps = {\n      ...allProps,\n      onMouseOver: (props) => {\n        try {\n          onMouseOver(mapInstance.current.getMap(), props);\n        } catch (err) {\n          console.error('GeoJson|onMouseOver', err);\n        }\n      }\n    };\n  }\n  if (mapKey && choropleth) {\n    allProps = {\n      ...allProps,\n      style: (feature) => {\n        const findData = data?.find(\n          (d) => d?.[mapKey] === feature?.properties?.[mapKey]\n        );\n        const value = findData?.[choropleth] || 0;\n        const values = data?.map((d) => d?.[choropleth]);\n        const ranges = calculateRanges(values, color?.length);\n        return {\n          ...style,\n          fillColor: getColor(ranges, value, color)\n        };\n      }\n    };\n  }\n  return allProps;\n};\n","import { useCallback, useEffect, useRef } from 'react';\nimport L from 'leaflet';\n\nimport { useLeaflet } from '../../context/LeafletProvider';\nimport { calculateRanges } from '../../utils/mapHelper';\nimport styles from '../../styles.module.css';\n\nconst LegendControl = ({ data = [], color = [] }) => {\n  const mapRef = useLeaflet();\n  const legendRef = useRef(null);\n\n  const loadLegend = useCallback(() => {\n    if (mapRef?.current && !legendRef?.current) {\n      legendRef.current = L.control({ position: 'bottomright' });\n    }\n\n    if (legendRef?.current && mapRef?.current) {\n      mapRef.current.removeControl(legendRef.current);\n\n      legendRef.current.onAdd = () => {\n        const div = L.DomUtil.create('div', styles.legend);\n        const grades = calculateRanges(data, color.length);\n        grades.forEach((g, gx) => {\n          const [min, max] = g;\n          div.innerHTML += `<span class=\"icon\" style=\"background-color: ${color?.[gx]};\"></span> ${min} - ${max} <br/>`;\n        });\n        return div;\n      };\n\n      legendRef.current.addTo(mapRef.current);\n    }\n  }, [mapRef, legendRef, data, color]);\n\n  useEffect(() => {\n    loadLegend();\n  }, [loadLegend]);\n\n  return null;\n};\n\nexport default LegendControl;\n","export const string2WindowObj = (path = '') => {\n  const obj = path.split('.').reduce((obj, key) => obj && obj[key], window);\n  if (typeof obj === 'undefined') {\n    return null;\n  }\n  return obj;\n};\n","import React, {\n  forwardRef,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n  useImperativeHandle,\n  useMemo\n} from 'react';\nimport * as topojson from 'topojson-client';\nimport 'leaflet/dist/leaflet.css';\nimport { LeafletProvider } from '../context/LeafletProvider';\nimport { TileLayer, Marker, GeoJson, LegendControl } from './Map';\nimport { string2WindowObj } from '../utils/string';\nimport { getGeoJSONProps } from '../utils/mapHelper';\n\nconst getGeoJSONList = (d) => {\n  if (!d) {\n    return [];\n  }\n  if (d?.type === 'Topology') {\n    /**\n     * Convert TopoJSON to GeoJSON\n     */\n    return Object.keys(d.objects).map((kd) =>\n      topojson.feature(d, d.objects[kd])\n    );\n  }\n  return [d];\n};\n\nconst MapView = ({ tile, layer, config, data }, ref) => {\n  const [geoData, setGeoData] = useState(null);\n  const [sourceData, setSourceData] = useState(null);\n  const [preload, setPreload] = useState(true);\n  const [markerLayer, setMakerLayer] = useState(null);\n\n  const mapInstance = useRef(null);\n\n  const { url: layerURL, source: layerSource, ...layerProps } = layer;\n\n  const geoProps = useMemo(() => {\n    return getGeoJSONProps(mapInstance, layerProps, data);\n  }, [layerProps, data]);\n\n  const loadGeoDataFromURL = useCallback(async () => {\n    if (layerURL && !geoData) {\n      try {\n        const res = await fetch(layerURL);\n        const apiData = await res.json();\n        if (apiData) {\n          setGeoData(apiData);\n        }\n      } catch (err) {\n        console.error('loadGeoDataFromURL', err);\n      }\n    }\n  }, [layerURL, geoData]);\n\n  useEffect(() => {\n    loadGeoDataFromURL();\n  }, [loadGeoDataFromURL]);\n\n  useEffect(() => {\n    if (mapInstance?.current && preload) {\n      setPreload(false);\n\n      if (config?.zoom) {\n        mapInstance.current.getMap().setZoom(config.zoom);\n      }\n\n      if (config?.center) {\n        mapInstance.current.getMap().panTo(config.center);\n      }\n      const lg = L.layerGroup().addTo(mapInstance.current.getMap());\n      setMakerLayer(lg);\n    }\n    if (!sourceData) {\n      if (typeof layerSource === 'string' && layerSource?.includes('window')) {\n        const windowObj = string2WindowObj(layerSource);\n        if (windowObj) {\n          setSourceData(windowObj);\n        }\n      }\n\n      if (typeof layerSource === 'object') {\n        setSourceData(layerSource);\n      }\n    }\n    if (\n      markerLayer &&\n      data?.filter((d) => d?.point)?.length === 0 &&\n      markerLayer.getLayers().length\n    ) {\n      markerLayer.clearLayers();\n    }\n  }, [\n    mapInstance,\n    preload,\n    sourceData,\n    layerSource,\n    markerLayer,\n    config?.zoom,\n    config?.center,\n    data\n  ]);\n\n  // Expose the Leaflet map instance via ref\n  useImperativeHandle(ref, () => mapInstance.current);\n\n  return (\n    <LeafletProvider\n      ref={mapInstance}\n      width={config?.width}\n      height={config?.height}\n    >\n      <TileLayer {...tile} />\n      {data\n        ?.filter((d) => d?.point)\n        ?.map((d, dx) => (\n          <Marker\n            latlng={d?.point}\n            label={d?.label}\n            markerLayer={markerLayer}\n            key={dx}\n          />\n        ))}\n      {getGeoJSONList(geoData).map((gd, gx) => (\n        <GeoJson\n          key={gx}\n          data={gd}\n          {...geoProps}\n        />\n      ))}\n      {getGeoJSONList(sourceData).map((sd, sx) => (\n        <GeoJson\n          key={sx}\n          data={sd}\n          {...geoProps}\n        />\n      ))}\n      <LegendControl\n        data={data?.map((d) => d?.[layer?.choropleth])?.filter((d) => d)}\n        color={layer?.color}\n      />\n    </LeafletProvider>\n  );\n};\n\nexport default forwardRef(MapView);\n"],"names":["backgroundColor","Animation","animation","animationThreshold","animationDuration","animationEasing","animationDelay","animationDurationUpdate","animationEasingUpdate","animationDelayUpdate","TextStyle","color","fontSize","fontWeight","Colors","Legend","show","icon","top","left","align","orient","itemGap","textStyle","Title","textAlign","Grid","containLabel","right","bottom","Tooltip","trigger","axisPointer","type","Axis","axisLabel","axisLine","lineStyle","axisTick","filterObjNullValue","obj","Object","entries","reduce","acc","_ref","key","value","transformConfig","_ref2","title","_ref2$subtitle","subtitle","_ref2$xAxisLabel","xAxisLabel","_ref2$yAxisLabel","yAxisLabel","_ref2$horizontal","horizontal","_ref2$textStyle","fontStyle","fontFamily","_ref2$legend","legend","_ref2$color","_ref2$dimensions","dimensions","_ref2$showAxis","showAxis","defaultLegend","_extends","data","slice","overrideTextStyle","keys","length","overrideColor","overrideLegend","axis","xAxis","name","nameTextStyle","nameLocation","nameGap","yAxis","text","subtext","grid","tooltip","series","sortKeys","dynamicKey","find","isNaN","otherKeys","filter","concat","normalizeData","source","Array","isArray","categories","rows","map","item","toLowerCase","row","forEach","cat","index","undefined","from","Set","flatMap","d","sortedKeys","i","maxLength","Math","max","apply","_","Error","useECharts","_ref$config","config","_ref$data","_ref$getOptions","getOptions","_ref$rawConfig","rawConfig","_ref$rawOverrides","rawOverrides","chartRef","useRef","_useState","useState","chartInstance","setChartInstance","useEffect","current","initProps","width","height","chart","echarts","theme","renderer","options","itemStyle","borderColor","borderWidth","borderType","opacity","overrideItemStyle","_normalizeData","transformedConfig","dataset","s","clear","setOption","err","console","error","_ref$horizontal","_ref$dimensions","dim","encode","x","y","Bar","ref","_useECharts","_ref3","useImperativeHandle","React","createElement","role","className","styles","container","forwardRef","Line","itemName","radius","Pie","MAX","Doughnut","_ref2$size","size","torus","useMemo","scatterTransform","input","label","symbolSize","showLabel","emphasis","focus","formatter","p","minMargin","position","splitLine","ScatterPlot","_ref4","_ref4$symbolSize","_ref4$showLabel","_ref5","stackMapping","dimensionToStackMap","stackGroup","stack","StackBar","_ref2$stackMapping","barGap","StackClusterColumn","_extends2","areaStyle","boundaryGap","StacLine","LeafletContext","createContext","LeafletProvider","children","mapRef","mapContainer","L","center","zoom","remove","getMap","Fragment","style","Provider","useLeaflet","useContext","Marker","_ref$latlng","latlng","_ref$label","_ref$icon","markerLayer","_objectWithoutPropertiesLoose","_excluded","preload","setPreload","defaultIcon","mIcon","src","defaultShadow","mShadow","Icon","iconUrl","url","shadowUrl","shadow","iconSize","iconAnchor","popupAnchor","shadowSize","setMarker","useCallback","mapLayer","marker","addTo","bindPopup","TileLayer","props","tileLayer","GeoJson","onClick","onMouseOver","_ref$style","layer","setLayer","loadGeoJson","gl","geoJSON","onEachFeature","on","click","mouseover","resetStyle","setStyle","feature","fillOpacity","parseFloat","calculateRanges","numRanges","sortedData","sort","a","b","minRange","min","maxRange","logMin","log10","logMax","logStep","ranges","rangeStart","pow","rangeEnd","push","floor","getColor","colors","_colors","numColors","findIndex","r","getGeoJSONProps","mapInstance","mapKey","choropleth","allProps","_data","_data2","findData","_feature$properties","properties","values","fillColor","LegendControl","_ref$color","legendRef","loadLegend","control","removeControl","onAdd","div","DomUtil","create","grades","g","gx","innerHTML","string2WindowObj","path","split","window","getGeoJSONList","objects","kd","topojson","MapView","_data$filter2","_data$map","tile","geoData","setGeoData","_useState2","sourceData","setSourceData","_useState3","_useState4","setMakerLayer","layerURL","layerSource","layerProps","geoProps","loadGeoDataFromURL","_temp2","_temp","_catch","Promise","resolve","fetch","then","res","json","apiData","e","reject","_data$filter","setZoom","panTo","lg","layerGroup","includes","windowObj","point","getLayers","clearLayers","dx","gd","sd","sx"],"mappings":"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"}